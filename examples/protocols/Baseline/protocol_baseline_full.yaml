version: "1.0"

channels:
  analyze:
    - left
    - right
    - difference

preprocessing:
  normalize:
    enabled: true
    method: rms
    target_level: -20.0

analyses:

  temporal:
    enabled: true
    methods:
      - name: envelope
        params:
          method: hilbert

      - name: autocorrelation
        params:
          max_lag: 5000
          normalize: true
          max_samples: 100000

      - name: pulse_detection
        params:
          threshold: 0.6
          min_distance: 2000

  spectral:
    enabled: true
    methods:
      - name: fft_global
        params:
          window: hann

      - name: peak_detection
        params:
          prominence: 0.05
          distance: 50

      - name: harmonic_analysis
        params:
          fundamental_range: [20, 2000]
          max_harmonics: 10

      - name: spectral_centroid
      - name: spectral_bandwidth
      - name: spectral_flatness

  time_frequency:
    enabled: true
    methods:
      - name: stft
        params:
          n_fft: 4096
          hop_length: 256
          window: hann

      - name: band_stability
        params:
          bands:
            - [20, 80]        # très basses
            - [80, 200]       # basses
            - [200, 800]      # bas-médium
            - [800, 3000]     # médium chargé perceptuellement
            - [3000, 8000]    # haut
            - [8000, 16000]   # très haut (si SR ok)

  modulation:
    enabled: true
    methods:
      - name: am_detection
      - name: fm_detection
      - name: phase_analysis

  information:
    enabled: true
    methods:
      - name: shannon_entropy

      - name: local_entropy
        params:
          window_size: 2048
          hop_length: 512

      - name: compression_ratio

  inter_channel:
    enabled: true
    methods:
      - name: lr_difference

      - name: cross_correlation
        params:
          max_lag: 2000
          max_samples: 50000

      - name: phase_difference
      - name: time_delay

visualization:
  enabled: true
  formats: ["png"]
  dpi: 150
  figsize: [12, 8]

output:
  save_raw_data: true
  save_config: true
